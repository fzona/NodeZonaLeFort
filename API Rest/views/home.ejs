<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/jpeg" href="https://yt3.ggpht.com/ytc/AMLnZu_cAuYYJ_gXErbRL4oezuY0RmpeEj6Qwwb9h4PJUQ=s900-c-k-c0x00ffffff-no-rj">
		<!-- Estilos Porpios -->
		<link href="./style.css" rel="stylesheet">
		<!-- scripts - socket.io para conectar con el servidor. main.js que maneja toda la logica -->
		<script src="/socket.io/socket.io.js"></script>
		<script src="/main.js"></script>
		
		<title>Baroni Desafio 19 - HOME</title>
	</head>

	<body>

		<main>
			<% if (userData) { %>	
				<header class="logContainer">
					<div class="userContainer">
						<div class="userData">
							<p class="userP">Bienvenido <%= userData.username.toUpperCase() %></p>												
						</div>
						<!-- imagen de perfil atravez del user.image -->
						<img class="userImg" src="/profileImages/<%= userData.image %>" alt="user image">	
						<!-- user id -->						
						<p style="display:none" id="userId"><%= userData._id %></p>		
						<a href="/user">Datos de Usuario</a>											
					</div>
				</header>
			<% } %>
			<% if (!userData) { %>
				<div class="logContainer">
					<p class="userContainer"></p>
						<p class="userP">No estas logueado</p>
						<a href="/auth/login">LOGIN</a> 
					</div>                                  
				</div>
			<% } %>				

			<div class="listadoProductos">
					<h2 class="listTitle">LISTA DE PRODUCTOS</h2>			
					<div id="productsContainer" class="#productsContainer"></div>						
										
			</div>

			<div class="messageContainer" id="messageContainer">
				<%- include('partials/messageCenter.ejs'); %>
			</div>

			<!-- is user == eneas -->
			<% if (userData.username.toLowerCase() == "eneas") { %>		
				<div class="formulario">				
					<form class="form" action="/productos" method="POST" id="addProducto">
						<legend>AGREGAR PRODUCTO</legend>                    
						<div class="form-group">
							<label for="name">NOMBE</label>
							<input type="text" class="form-control" name="name" id="name" placeholder="Nombre de Producto" required>
						</div>
						<div class="form-group">
							<label for="precio">PRECIO</label>
							<input type="text" class="form-control" name="price" id="precio" placeholder="Precio del Producto" required>
						</div>
						<div class="form-group">
							<label for="precio">CODIGO</label>
							<input type="text" class="form-control" name="code" id="code" placeholder="Codigo del Producto" required>
						</div>
						<div class="form-group">
							<label for="precio">DESCRIPCION</label>
							<input type="text" class="form-control" name="description" id="description" placeholder="Descripcion del Producto" required>
						</div>
						<div class="form-group">
							<label for="precio">STOCK</label>
							<input type="text" class="form-control" name="stock" id="stock" placeholder="Stock del Producto" required>
						</div>
						<div class="form-group">
							<label for="thumbnail">THUMBNAIL</label>
							<input type="thumbnail" class="form-control" name="thumbnail" id="thumbnail" placeholder="url de la Imagen" required>                        
						</div>             
						<div class="form-button">
							<input type="submit" value="AGREGAR" class="p-1">             
						</div> 
					</form>
				</div>	
			<% } %>		

		</main>                                      
	
	</body>

</html>